<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>Configuration - </title> <link rel="shortcut icon" href="http://localhost:4000/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="http://localhost:4000/assets/css/just-the-docs-default.css"> <script type="text/javascript" src="http://localhost:4000/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="http://localhost:4000/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.6.1 --> <title>Configuration</title> <meta name="generator" content="Jekyll v4.1.1" /> <meta property="og:title" content="Configuration" /> <meta property="og:locale" content="en_US" /> <link rel="canonical" href="http://localhost:4000/docs/configuration.html" /> <meta property="og:url" content="http://localhost:4000/docs/configuration.html" /> <script type="application/ld+json"> {"url":"http://localhost:4000/docs/configuration.html","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://localhost:4000/assets/images/just-the-docs.png"}},"headline":"Configuration","@type":"WebPage","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="http://localhost:4000/" class="site-title lh-tight"> <div class="site-logo"></div> </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="http://localhost:4000/" class="nav-list-link">Home</a></li><li class="nav-list-item active"><a href="http://localhost:4000/docs/configuration.html" class="nav-list-link active">Configuration</a></li><li class="nav-list-item"><a href="http://localhost:4000/docs/rdb.html" class="nav-list-link">Readonly Database</a></li><li class="nav-list-item"><a href="http://localhost:4000/docs/request.html" class="nav-list-link">Request Context</a></li><li class="nav-list-item"><a href="http://localhost:4000/docs/routing.html" class="nav-list-link">Routing</a></li><li class="nav-list-item"><a href="http://localhost:4000/docs/why-evo.html" class="nav-list-link">Why EVO?</a></li><li class="nav-list-item"><a href="http://localhost:4000/docs/search.html" class="nav-list-link">Search</a></li><li class="nav-list-item"><a href="http://localhost:4000/docs/index-test.html" class="nav-list-link">Markdown kitchen sink</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search " aria-label="Search " autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> </div> <div id="main-content-wrap" class="main-content-wrap"> <div id="main-content" class="main-content" role="main"> <h1 id="configuration"> <a href="#configuration" aria-labelledby="configuration" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Configuration </h1> <p>EVO is able to parse yml files as config. By default EVO tries to reach config.yml at working directory of the executable app. If EVO was not be able to find config.yml then it tries:</p> <p>For Linux:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/home/username
/var
/etc
/
</code></pre></div></div> <p>And for Windows:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%USERNAME%
%LOCALAPPDATA%
%HOMEPATH%
%APPDATA%
%ALLUSERSPROFILE%
</code></pre></div></div> <p>You may pass different path or file name for config.yml by passig <code class="language-plaintext highlighter-rouge">-c</code> arg to executable app.</p> <h2 id="configuration-structure"> <a href="#configuration-structure" aria-labelledby="configuration-structure" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Configuration structure </h2> <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># App configurations</span>
<span class="na">app</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Sample</span><span class="nv"> </span><span class="s">App"</span> <span class="c1">#Application Name </span>
  <span class="na">language</span><span class="pi">:</span> <span class="s">en-GB</span>    <span class="c1">#Application Lang</span>
  <span class="na">static</span><span class="pi">:</span> <span class="s">./httpdocs</span> <span class="c1">#Static files path</span>
  <span class="na">session-age</span><span class="pi">:</span> <span class="m">60</span>    <span class="c1">#Login session age</span>

  <span class="c1">#0 to 4</span>
  <span class="na">strong-pass-level</span><span class="pi">:</span> <span class="m">0</span> <span class="c1">#Password difficulty</span>

<span class="na">jwt</span><span class="pi">:</span>
  <span class="na">secret</span><span class="pi">:</span> <span class="s2">"</span><span class="s">a.random.public.key"</span>  <span class="c1">#JWT Secret</span>
  <span class="na">issuer</span><span class="pi">:</span> <span class="s2">"</span><span class="s">evo"</span>                  <span class="c1">#JWT Issuer</span>
  <span class="na">audience</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">*"</span><span class="pi">]</span>                <span class="c1">#JWT Audience</span>
  <span class="na">age</span><span class="pi">:</span> <span class="s">24h</span>                       <span class="c1">#JWT Expiration Period</span>
  <span class="na">subject</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Evo</span><span class="nv"> </span><span class="s">App"</span>             <span class="c1">#JWT Subject</span>

<span class="c1"># Server configurations</span>
<span class="na">server</span><span class="pi">:</span>
  <span class="na">host</span><span class="pi">:</span> <span class="s2">"</span><span class="s">0.0.0.0"</span>               <span class="c1">#Host</span>
  <span class="na">port</span><span class="pi">:</span>  <span class="s2">"</span><span class="s">80"</span>                   <span class="c1">#Port</span>
  <span class="na">https</span><span class="pi">:</span> <span class="no">false</span>                  <span class="c1">#Use https?</span>
  <span class="na">cert</span><span class="pi">:</span>  <span class="s">cert.pem</span>               <span class="c1">#ssl cert</span>
  <span class="na">key</span><span class="pi">:</span>   <span class="s">key.pem</span>                <span class="c1">#ssl key</span>
  <span class="na">name</span><span class="pi">:</span>  <span class="s2">"</span><span class="s">evo"</span>                  <span class="c1">#Server name exposed in header</span>
  <span class="na">strict-routing</span><span class="pi">:</span> <span class="no">false</span>         <span class="c1">#Care about slashes at the end of urls?</span>
  <span class="na">case-sensitive</span><span class="pi">:</span> <span class="no">false</span>         <span class="c1">#Care about uppercase/lowercase urls?</span>
  <span class="na">max-upload-size</span><span class="pi">:</span> <span class="s">5M</span>           <span class="c1">#Max Upload Size</span>
  <span class="na">request-id</span><span class="pi">:</span> <span class="no">true</span>              <span class="c1">#Set uinque id for each request in header</span>
  <span class="na">debug</span><span class="pi">:</span> <span class="no">true</span>                   <span class="c1">#Show debug data</span>
  <span class="na">recover</span><span class="pi">:</span> <span class="no">false</span>                <span class="c1">#Recover on panics</span>

<span class="c1"># Database credentials</span>
<span class="na">database</span><span class="pi">:</span>
  <span class="na">enabled</span><span class="pi">:</span> <span class="no">true</span>                   <span class="c1">#Use database?</span>
  <span class="na">type</span><span class="pi">:</span> <span class="s2">"</span><span class="s">sqlite"</span>                  <span class="c1">#Kind of database: mssql,mysql,postgres,sqlite</span>
  <span class="na">server</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span>                      <span class="c1">#Server address</span>
  <span class="na">database</span><span class="pi">:</span> <span class="s2">"</span><span class="s">database.sqlite3"</span>    <span class="c1">#Database name</span>
  <span class="na">user</span><span class="pi">:</span> <span class="s2">"</span><span class="s">admin"</span>                   <span class="c1">#Database username</span>
  <span class="na">pass</span><span class="pi">:</span> <span class="s2">"</span><span class="s">super-pedro-1980"</span>        <span class="c1">#Database password</span>
  <span class="na">cache</span><span class="pi">:</span> <span class="no">true</span>                     <span class="c1">#Cache results? </span>
  <span class="na">cache-size</span><span class="pi">:</span> <span class="m">1000</span>                <span class="c1">#Cache size</span>
  <span class="na">debug</span><span class="pi">:</span> <span class="no">false</span>                    <span class="c1">#Debug database?</span>
  <span class="na">ssl-mode</span><span class="pi">:</span> <span class="s2">"</span><span class="s">disable"</span>             <span class="c1">#Database over ssl</span>
  <span class="na">max-open-connections</span><span class="pi">:</span> <span class="m">100</span>       <span class="c1">#Max db concurrent connections</span>
  <span class="na">max-idle-connections</span><span class="pi">:</span> <span class="m">10</span>        <span class="c1">#Max db idle connections</span>
  <span class="na">connection-max-lifetime</span><span class="pi">:</span> <span class="s">1h</span>     <span class="c1">#Renew connection after duration</span>

<span class="c1">#Log to file</span>
<span class="na">log</span><span class="pi">:</span>
  <span class="na">writefile</span><span class="pi">:</span> <span class="no">true</span>              <span class="c1">#Write Log to file</span>
  <span class="na">size</span><span class="pi">:</span> <span class="m">5</span>                      <span class="c1">#Log size in mb</span>
  <span class="na">age</span><span class="pi">:</span> <span class="m">7</span>                       <span class="c1">#Log age in days</span>
  <span class="na">level</span><span class="pi">:</span> <span class="s">debug</span>                 <span class="c1">#Log level to write on file</span>
  <span class="na">path</span><span class="pi">:</span> <span class="s">./logs</span>                 <span class="c1">#Log path</span>

<span class="c1">#Tweaks</span>
<span class="na">tweaks</span><span class="pi">:</span>
  <span class="na">ballast</span><span class="pi">:</span> <span class="no">true</span>                <span class="c1">#Use ballast? https://blog.twitch.tv/en/2019/04/10/go-memory-ballast-how-i-learnt-to-stop-worrying-and-love-the-heap-26c2462549a2/</span>
  <span class="na">ballast-size</span><span class="pi">:</span> <span class="s">100mb</span>          <span class="c1">#ballast </span>
  <span class="na">processors</span><span class="pi">:</span> <span class="m">0</span>                <span class="c1">#number of processors to occupy</span>
  <span class="na">prefork</span><span class="pi">:</span> <span class="no">false</span>               <span class="c1">#use prefork https://httpd.apache.org/docs/2.4/mod/prefork.html</span>

<span class="c1">#Cross Origin Resource Sharing</span>
<span class="na">cors</span><span class="pi">:</span>
  <span class="na">enabled</span><span class="pi">:</span> <span class="no">true</span>                                                              <span class="c1">#enable cors?</span>
  <span class="na">allowed-origins</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">*"</span><span class="pi">]</span>                                                     <span class="c1">#cors trusted origins</span>
  <span class="na">allowed-methods</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">GET"</span><span class="pi">,</span><span class="s2">"</span><span class="s">POST"</span><span class="pi">,</span><span class="s2">"</span><span class="s">HEAD"</span><span class="pi">,</span><span class="s2">"</span><span class="s">OPTION"</span><span class="pi">,</span><span class="s2">"</span><span class="s">PUT"</span><span class="pi">,</span><span class="s2">"</span><span class="s">PATCH"</span><span class="pi">,</span><span class="s2">"</span><span class="s">DELETE"</span><span class="pi">]</span>     <span class="c1">#cors enabled methods</span>
  <span class="na">allowed-credentials</span><span class="pi">:</span> <span class="no">true</span>                                                  <span class="c1">#cors enable credentials?</span>
  <span class="na">allowed-headers</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">*"</span><span class="pi">]</span>                                                     <span class="c1">#cors enabled headers</span>
  <span class="na">max-age</span><span class="pi">:</span> <span class="m">0</span>                                                                 <span class="c1">#max preflight age</span>

<span class="c1">#Rate Limiter</span>
<span class="na">ratelimit</span><span class="pi">:</span>
  <span class="na">enabled</span><span class="pi">:</span> <span class="no">false</span>             <span class="c1">#enable rate limiter?</span>
  <span class="na">duration</span><span class="pi">:</span> <span class="m">10</span>               <span class="c1">#rate limiter duration to keep data</span>
  <span class="na">requests</span><span class="pi">:</span> <span class="m">10</span>               <span class="c1">#number of requests in duration</span>
</code></pre></div></div> <h2 id="custom-configuration-for-apps"> <a href="#custom-configuration-for-apps" aria-labelledby="custom-configuration-for-apps" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Custom configuration for apps </h2> <p>You may add custom configuration to the apps in to ways: Embed configuration in default app config:</p> <div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">type</span> <span class="n">Custom</span> <span class="k">struct</span> <span class="p">{</span>
	<span class="n">Array</span> <span class="p">[]</span><span class="kt">string</span> <span class="s">`yaml:"array"`</span>
<span class="p">}</span>

<span class="n">cfg</span> <span class="o">:=</span> <span class="n">Custom</span><span class="p">{}</span>
<span class="c">//load custom key from app config</span>
<span class="n">evo</span><span class="o">.</span><span class="n">ParseConfig</span><span class="p">(</span><span class="s">""</span><span class="p">,</span> <span class="s">"custom"</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">cfg</span><span class="p">)</span>
<span class="n">log</span><span class="o">.</span><span class="n">Print</span><span class="p">(</span><span class="n">cfg</span><span class="p">)</span>
</code></pre></div></div> <p>Read configuration from custom config file:</p> <div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">//load custom key from custom file</span>
<span class="n">evo</span><span class="o">.</span><span class="n">ParseConfig</span><span class="p">(</span><span class="s">"custom.yml"</span><span class="p">,</span> <span class="s">"custom"</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">cfg</span><span class="p">)</span>
<span class="n">log</span><span class="o">.</span><span class="n">Print</span><span class="p">(</span><span class="n">cfg</span><span class="p">)</span>
</code></pre></div></div> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
